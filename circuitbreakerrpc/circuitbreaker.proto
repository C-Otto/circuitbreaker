syntax = "proto3";

package circuitbreaker;

option go_package = "github.com/lightningequipment/circuitbreaker/circuitbreakerrpc";

service Service {
    rpc GetInfo (GetInfoRequest) returns (GetInfoResponse);

    rpc UpdateLimit (UpdateLimitRequest) returns (UpdateLimitResponse);
}

message GetInfoRequest {}

message GetInfoResponse {
    bytes connected_node = 1;
}

message UpdateLimitRequest {
    bytes node = 1;
    int64 min_interval_ms = 2;
	int64 burst_size = 3;
	int64 max_pending = 4;
}

message UpdateLimitResponse {}